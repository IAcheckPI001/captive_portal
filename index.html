

<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>WiFi miễn phí</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body { font-family: Arial; text-align:center; padding:50px; background:#f5f7fa; }
  button { font-size:16px; padding:12px 20px; background:#2563eb; color:white; border:none; border-radius:8px; cursor:pointer; }
</style>
</head>
<body>
<h2>WiFi miễn phí</h2>
<p>Nhấn nút để truy cập Internet</p>
<button id="connectBtn">Kết nối WiFi</button>

<script>
const params = new URLSearchParams(window.location.search);
const clientMac = params.get("clientMac");
const apMac = params.get("apMac");
const t = params.get("t");
const site = params.get("site");
const redirectUrl = params.get("redirectUrl") || "https://phuongminhphung.myportal.vn/";

if (!clientMac || !apMac || !t || !site) {
  document.body.innerHTML = "Invalid portal request";
}

document.getElementById("connectBtn").addEventListener("click", () => {
  const url = `https://aps1-omada-essential-controller.tplinkcloud.com/app/authorize?clientMac=${encodeURIComponent(clientMac)}&apMac=${encodeURIComponent(apMac)}&t=${encodeURIComponent(t)}&site=${encodeURIComponent(site)}&redirectUrl=${encodeURIComponent(redirectUrl)}`;
  window.open(url, "_self"); // tương thích iOS/Android
});
</script>
</body>
</html>
