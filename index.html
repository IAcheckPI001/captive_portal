<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>WiFi Miễn Phí - Test Portal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    padding: 50px;
    background: #f5f7fa;
  }
  h2 { color: #111827; }
  p { font-size: 16px; color: #374151; }
  input {
    padding: 8px;
    width: 250px;
    margin: 5px;
    border-radius: 6px;
    border: 1px solid #cbd5e1;
  }
  button {
    font-size: 16px;
    padding: 12px 24px;
    background: #2563eb;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    margin-top: 20px;
  }
</style>
</head>
<body>
<h2>WiFi Miễn Phí - Test Portal</h2>
<p>Nhập thông tin giả lập để test redirect</p>

<div>
  <input id="clientMac" placeholder="Client MAC" value="7C-70-DB-E4-B1-D7"><br>
  <input id="apMac" placeholder="AP MAC" value="10-5A-95-9F-95-4C"><br>
  <input id="t" placeholder="t" value="1767670587"><br>
  <input id="site" placeholder="site" value="ffff16948a3a832bf7b1478329ff9"><br>
  <input id="redirectUrl" placeholder="Redirect URL" value="https://phuongminhphung.myportal.vn/"><br>
</div>

<button id="connectBtn">Kết nối WiFi (Test)</button>

<script>
document.getElementById("connectBtn").addEventListener("click", () => {
  const clientMac = document.getElementById("clientMac").value.trim();
  const apMac = document.getElementById("apMac").value.trim();
  const t = document.getElementById("t").value.trim();
  const site = document.getElementById("site").value.trim();
  const redirectUrl = document.getElementById("redirectUrl").value.trim();

  if (!clientMac || !apMac || !t || !site) {
    alert("Vui lòng nhập đầy đủ thông tin giả lập.");
    return;
  }

  const authorizeUrl = `https://aps1-omada-essential-controller.tplinkcloud.com/app/authorize?clientMac=${encodeURIComponent(clientMac)}&apMac=${encodeURIComponent(apMac)}&t=${encodeURIComponent(t)}&site=${encodeURIComponent(site)}&redirectUrl=${encodeURIComponent(redirectUrl)}`;

  // Thay vì redirect thật, in ra console và hiển thị alert
  console.log("Authorize URL:", authorizeUrl);
  alert("URL authorize (giả lập) được tạo, check console để xem.\nKhông gửi request thực sự để tránh lỗi 404.");
});
</script>
</body>
</html>